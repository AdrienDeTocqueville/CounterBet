{% extends "base.html" %}
{% import "pannels.html" as pannels %}

{% block link %}
<link rel="stylesheet" type="text/css" href="/css/index.css">
<link rel="stylesheet" type="text/css" href="/css/pannel.css">
{% endblock %}

{% macro bet_state(bet) %}
<div class="pannel">
	{{ pannels.match_header(bet.match, date) }}
	<a href="/match/{{ bet.match.id }}">
		<main>
			<div class="matchup">
				<div class="c40">
					{{ bet.match.team1.name }}
				</div>
				<div class="c20">
					{{ bet.match.format }}
				</div>
				<div class="c40">
					{{ bet.match.team2.name }}
				</div>
			</div>
			<br>
			<div class="matchup">
				<div class="c60">
					You bet {{bet.num}}pt on {{bet.team}}
				</div>
				<div class="c20">
					cote : {{bet.match.cote}}
				</div>
				<div class="c20">

				</div>
			</div>
		</main>
	</a>
</div>
{% endmacro %}

{% block content %}
<main id="index-main">

	<div id="left">

		<h1> Utilisateur </h1>
		<br>Name : {{ user.name }}
		<br>Email : {{user.email}}
		<br>Total points : {{ user.points }}

	</div>
	<div id="right">
		<h1>Your Bets</h1>

		<h2>Incoming</h2>
		{% for bet in user.bets %}
			{%if not bet.match.score %}
				{{ bet_state(bet) }}
			{% endif %}
		{% endfor %}

		<br>

		<h2>Finished</h2>
		{% for bet in user.bets %}
			{%if bet.match.score %}
				{{ bet_state(bet) }}
			{% endif %}
		{% endfor %}
	</div>



	{% endblock %}
